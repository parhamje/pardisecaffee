<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link
      rel="icon"
      type="image/png"
      href="img/favicon-96x96.png"
      sizes="96x96"
    />
    <link rel="icon" type="image/svg+xml" href="img/favicon.svg" />
    <link rel="shortcut icon" href="img/favicon.ico" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="img/apple-touch-icon.png"
    />
    <link rel="manifest" href="img/site.webmanifest" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/order.css" />
    <title>انتخاب میز - کافه پارادایس</title>
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="logo-nav">
        <div class="logo">
          <a href="index.html"><img src="img/logo.png" alt="logo" /></a>
        </div>
        <nav class="nav">
          <a href="#">محصولات</a>
          <a href="#">درباره ما</a>
          <a href="#">تماس با ما</a>
        </nav>
      </div>
      <div class="actions">
        <div class="search">
          <a href="" class="searchbtn"
            ><i class="fa-solid fa-magnifying-glass"></i
          ></a>
        </div>
        <a href="login.html" class="btn"
          ><i class="fa-solid fa-user"></i><span>ورود|ثبت نام</span></a
        >
        <a href="#" class="btn"
          ><i class="fa-solid fa-bag-shopping"></i>۰ تومان</a
        >
        <span class="count">0</span>
      </div>
    </header>
    <!-- End of Header -->

    <div class="order-container">
      <div class="selecteditems">
        <h2>محصولات انتخاب شده</h2>
        <div class="items">
          <div class="item">
            <img src="img/brewed coffee.png" alt="محصول اول" />
            <div class="item-info">
              <h3>قهوه دمی</h3>
              <p>قهوه دمی تازه و خوش‌عطر با عطر و طعمی بی‌نظیر</p>
              <p class="price">قیمت: ۱۰۰۰۰ تومان</p>
              <p>تعداد: ۱</p>
              <a href="#" class="btn">
                <i class="fas fa-trash"></i>
              </a>
            </div>
          </div>

          <!-- For demonstration - additional items -->
          <div class="item">
            <img src="img/epercco.png" alt="محصول دوم" />
            <div class="item-info">
              <h3>قهوه اسپرسو</h3>
              <p>قهوه دارک روست با طعم کاراملی</p>
              <p class="price">قیمت: ۱۵۰۰۰ تومان</p>
              <p>تعداد: ۲</p>
              <a href="#" class="btn">
                <i class="fas fa-trash"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="selecttable">
        <h2>انتخاب میز</h2>
        <div class="subtitle">
          برای بهترین تجربه از کافه های ما میز خودتون رو انتخاب کنید
        </div>
        <div id="tableContainer">
          <!-- Round Table Option -->
          <div
            class="table-option"
            data-type="round"
            onclick="selectTable('round', this)"
          >
            <svg id="roundTable" class="table-svg" viewBox="0 0 200 200">
              <!-- Table top -->
              <circle
                cx="100"
                cy="100"
                r="50"
                fill="#a67b46"
                stroke="#43281c"
                stroke-width="3"
              />
              <circle
                cx="100"
                cy="100"
                r="40"
                fill="#bf9259"
                stroke="#43281c"
                stroke-width="1"
                opacity="0.7"
              />

              <!-- Table legs -->
              <path d="M100,150 L95,180 L105,180 L100,150" fill="#6d4c41" />
              <ellipse cx="100" cy="180" rx="10" ry="3" fill="#5d4037" />

              <!-- Coffee cup -->
              <ellipse
                cx="100"
                cy="85"
                rx="12"
                ry="8"
                fill="#f5f5f5"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <path
                d="M88,85 Q88,95 100,95 Q112,95 112,85"
                fill="none"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <path
                d="M115,85 Q118,83 118,80 Q118,77 115,75 L112,75"
                fill="none"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <ellipse
                cx="100"
                cy="85"
                rx="8"
                ry="5"
                fill="#3e2723"
                opacity="0.7"
              />

              <!-- Chairs -->
              <circle
                cx="100"
                cy="30"
                r="10"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <circle
                cx="100"
                cy="170"
                r="10"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <circle
                cx="30"
                cy="100"
                r="10"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <circle
                cx="170"
                cy="100"
                r="10"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
            </svg>
          </div>

          <!-- Square Table Option -->
          <div
            class="table-option"
            data-type="square"
            onclick="selectTable('square', this)"
          >
            <svg id="squareTable" class="table-svg" viewBox="0 0 200 200">
              <!-- Table top -->
              <rect
                x="50"
                y="50"
                width="100"
                height="100"
                fill="#a67b46"
                stroke="#43281c"
                stroke-width="3"
                rx="3"
                ry="3"
              />
              <rect
                x="60"
                y="60"
                width="80"
                height="80"
                fill="#bf9259"
                stroke="#43281c"
                stroke-width="1"
                opacity="0.7"
              />

              <!-- Table legs -->
              <rect x="60" y="150" width="10" height="30" fill="#6d4c41" />
              <rect x="130" y="150" width="10" height="30" fill="#6d4c41" />
              <ellipse cx="65" cy="180" rx="8" ry="3" fill="#5d4037" />
              <ellipse cx="135" cy="180" rx="8" ry="3" fill="#5d4037" />

              <!-- Coffee cup -->
              <ellipse
                cx="100"
                cy="85"
                rx="12"
                ry="8"
                fill="#f5f5f5"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <path
                d="M88,85 Q88,95 100,95 Q112,95 112,85"
                fill="none"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <path
                d="M115,85 Q118,83 118,80 Q118,77 115,75 L112,75"
                fill="none"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <ellipse
                cx="100"
                cy="85"
                rx="8"
                ry="5"
                fill="#3e2723"
                opacity="0.7"
              />

              <!-- Coffee cake -->
              <rect
                x="115"
                y="105"
                width="20"
                height="10"
                fill="#d7ccc8"
                stroke="#43281c"
                stroke-width="1"
              />
              <rect
                x="115"
                y="103"
                width="20"
                height="4"
                fill="#a1887f"
                stroke="#43281c"
                stroke-width="1"
              />

              <!-- Chairs -->
              <rect
                x="85"
                y="20"
                width="30"
                height="15"
                rx="3"
                ry="3"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <rect
                x="85"
                y="165"
                width="30"
                height="15"
                rx="3"
                ry="3"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <rect
                x="20"
                y="85"
                width="15"
                height="30"
                rx="3"
                ry="3"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <rect
                x="165"
                y="85"
                width="15"
                height="30"
                rx="3"
                ry="3"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
            </svg>
          </div>

          <!-- Rectangle Table Option -->
          <div
            class="table-option"
            data-type="rectangle"
            onclick="selectTable('rectangle', this)"
          >
            <svg id="rectangleTable" class="table-svg" viewBox="0 0 220 180">
              <!-- Table top -->
              <rect
                x="40"
                y="50"
                width="140"
                height="80"
                fill="#a67b46"
                stroke="#43281c"
                stroke-width="3"
                rx="3"
                ry="3"
              />
              <rect
                x="50"
                y="60"
                width="120"
                height="60"
                fill="#bf9259"
                stroke="#43281c"
                stroke-width="1"
                opacity="0.7"
              />

              <!-- Table legs -->
              <rect x="50" y="130" width="10" height="30" fill="#6d4c41" />
              <rect x="160" y="130" width="10" height="30" fill="#6d4c41" />
              <ellipse cx="55" cy="160" rx="8" ry="3" fill="#5d4037" />
              <ellipse cx="165" cy="160" rx="8" ry="3" fill="#5d4037" />

              <!-- Coffee cups -->
              <ellipse
                cx="70"
                cy="85"
                rx="10"
                ry="6"
                fill="#f5f5f5"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <path
                d="M60,85 Q60,93 70,93 Q80,93 80,85"
                fill="none"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <path
                d="M83,85 Q86,83 86,80 Q86,77 83,75 L80,75"
                fill="none"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <ellipse
                cx="70"
                cy="85"
                rx="7"
                ry="4"
                fill="#3e2723"
                opacity="0.7"
              />

              <ellipse
                cx="150"
                cy="85"
                rx="10"
                ry="6"
                fill="#f5f5f5"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <path
                d="M140,85 Q140,93 150,93 Q160,93 160,85"
                fill="none"
                stroke="#43281c"
                stroke-width="1.5"
              />
              <ellipse
                cx="150"
                cy="85"
                rx="7"
                ry="4"
                fill="#3e2723"
                opacity="0.7"
              />

              <!-- Pastry -->
              <rect
                x="100"
                y="75"
                width="20"
                height="20"
                fill="#ffe0b2"
                stroke="#43281c"
                stroke-width="1"
                rx="2"
                ry="2"
              />
              <line
                x1="100"
                y1="85"
                x2="120"
                y2="85"
                stroke="#8d6e63"
                stroke-width="1"
              />

              <!-- Chairs -->
              <rect
                x="55"
                y="20"
                width="30"
                height="15"
                rx="3"
                ry="3"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <rect
                x="135"
                y="20"
                width="30"
                height="15"
                rx="3"
                ry="3"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <rect
                x="55"
                y="145"
                width="30"
                height="15"
                rx="3"
                ry="3"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
              <rect
                x="135"
                y="145"
                width="30"
                height="15"
                rx="3"
                ry="3"
                fill="#8d6e63"
                stroke="#5d4037"
                stroke-width="1.5"
              />
            </svg>
          </div>
        </div>

        <div id="selectionDisplay"></div>
      </div>
    </div>
    <div class="next" id="continue-btn">
      <a href="#" class="nextbtn" id="continue">ادامه خرید</a>
    </div>

    <div class="finalmodal">
      <div class="modall-overlay">
        <div class="modall">
          <div class="modal-header">
            <h2>تایید سفارش</h2>
            <button class="close-btn">
              <i class="fas fa-times"></i>
            </button>
          </div>
  
          <div class="modal-body">
            <div class="order-summary">
              <h3>خلاصه سفارش</h3>
              <div class="summary-item">
                <span>قهوه دمی</span>
                <span>۱ × ۱۰۰۰۰ تومان</span>
              </div>
              <div class="summary-item">
                <span>قهوه اسپرسو</span>
                <span>۲ × ۱۵۰۰۰ تومان</span>
              </div>
            </div>
  
            <div class="table-selection">
              <h3>میز انتخاب شده</h3>
              <div class="table-display">
                <svg class="table-icon" viewBox="0 0 200 200">
                  <!-- Round table SVG -->
                  <circle
                    cx="100"
                    cy="100"
                    r="50"
                    fill="#a67b46"
                    stroke="#43281c"
                    stroke-width="3"
                  />
                  <circle
                    cx="100"
                    cy="100"
                    r="40"
                    fill="#bf9259"
                    stroke="#43281c"
                    stroke-width="1"
                    opacity="0.7"
                  />
                  <path d="M100,150 L95,180 L105,180 L100,150" fill="#6d4c41" />
                  <ellipse cx="100" cy="180" rx="10" ry="3" fill="#5d4037" />
                  <ellipse
                    cx="100"
                    cy="85"
                    rx="12"
                    ry="8"
                    fill="#f5f5f5"
                    stroke="#43281c"
                    stroke-width="1.5"
                  />
                  <path
                    d="M88,85 Q88,95 100,95 Q112,95 112,85"
                    fill="none"
                    stroke="#43281c"
                    stroke-width="1.5"
                  />
                  <path
                    d="M115,85 Q118,83 118,80 Q118,77 115,75 L112,75"
                    fill="none"
                    stroke="#43281c"
                    stroke-width="1.5"
                  />
                  <ellipse
                    cx="100"
                    cy="85"
                    rx="8"
                    ry="5"
                    fill="#3e2723"
                    opacity="0.7"
                  />
                  <circle
                    cx="100"
                    cy="30"
                    r="10"
                    fill="#8d6e63"
                    stroke="#5d4037"
                    stroke-width="1.5"
                  />
                  <circle
                    cx="100"
                    cy="170"
                    r="10"
                    fill="#8d6e63"
                    stroke="#5d4037"
                    stroke-width="1.5"
                  />
                  <circle
                    cx="30"
                    cy="100"
                    r="10"
                    fill="#8d6e63"
                    stroke="#5d4037"
                    stroke-width="1.5"
                  />
                  <circle
                    cx="170"
                    cy="100"
                    r="10"
                    fill="#8d6e63"
                    stroke="#5d4037"
                    stroke-width="1.5"
                  />
                </svg>
                <div class="table-details">
                  <div class="table-type">میز گرد</div>
                  <div>میز شماره ۵</div>
                  <div>ظرفیت: ۴ نفر</div>
                </div>
              </div>
            </div>
  
            <div class="payment-info">
              <h3>اطلاعات پرداخت</h3>
              <div class="summary-item">
                <span>مجموع محصولات</span>
                <span>۴۰۰۰۰ تومان</span>
              </div>
              <div class="summary-item">
                <span>مالیات (۹٪)</span>
                <span>۳۶۰۰ تومان</span>
              </div>
              <div class="total-section">
                <span>مبلغ قابل پرداخت</span>
                <span>۴۳۶۰۰ تومان</span>
              </div>
            </div>
          </div>
  
          <div class="modal-footer">
            <button class="action-btn cancel-btn">انصراف</button>
            <button class="action-btn confirm-btn">تایید و پرداخت</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer id="footer">
      <div class="footer-container" dir="rtl">
        <!-- درباره ما -->
        <div class="footer-section about">
          <h3>درباره ما</h3>
          <p>
            ما یک تیم خلاق و متخصص هستیم که به ارائه راهکارهای دیجیتال با کیفیت
            بالا متعهد هستیم.
          </p>
          <div class="social-icons">
            <a href="#" aria-label="GitHub"><i class="fab fa-github"></i></a>
            <a href="#" aria-label="LinkedIn"
              ><i class="fab fa-linkedin"></i
            ></a>
            <a href="#" aria-label="Telegram"
              ><i class="fab fa-telegram"></i
            ></a>
            <a href="#" aria-label="Instagram"
              ><i class="fab fa-instagram"></i
            ></a>
          </div>
        </div>

        <!-- لینک‌های مفید -->
        <div class="footer-section links">
          <h3>لینک‌های مفید</h3>
          <ul>
            <li><a href="#">خانه</a></li>
            <li><a href="#">خدمات</a></li>
            <li><a href="#">نمونه کارها</a></li>
            <li><a href="#">درباره ما</a></li>
            <li><a href="#">تماس با ما</a></li>
          </ul>
        </div>

        <!-- تماس با ما -->
        <div class="footer-section contact">
          <h3>تماس با ما</h3>
          <p><i class="fas fa-phone"></i> ۰۹۱۲۳۴۵۶۷۸۹</p>
          <p><i class="fas fa-envelope"></i> info@example.com</p>
          <p><i class="fas fa-map-marker-alt"></i> تهران، خیابان ولیعصر</p>
        </div>

        <!-- خبرنامه -->
        <div class="footer-section newsletter">
          <h3>خبرنامه</h3>
          <p>برای دریافت آخرین اخبار و تخفیف‌ها در خبرنامه ما عضو شوید.</p>
          <div class="newsletter-box">
            <input type="email" placeholder="ایمیل خود را وارد کنید" />
            <button>عضویت</button>
          </div>
        </div>
      </div>

      <!-- کپی‌رایت -->
      <div class="footer-bottom" dir="rtl">
        <p>
          © ۱۴۰۲ تمامی حقوق محفوظ است | طراحی شده توسط
          <a href="#"><img src="img/fodino.png" alt="fodino" /></a>
        </p>
      </div>
    </footer>
    <!-- End of Footer -->

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const tableOptions = document.querySelectorAll(".table-option");
        const selectionDisplay = document.getElementById("selectionDisplay");
        const continueBtn = document.getElementById("continue-btn");

        tableOptions.forEach((option) => {
          option.addEventListener("click", function () {
            const type = this.getAttribute("data-type");
            console.log("Selected table type:", type);
            selectTable(type, this);
          });
        });

        function selectTable(type, element) {
          console.log("Function selectTable executed!");
          // حذف کلاس انتخاب از سایر میزها
          tableOptions.forEach((option) => option.classList.remove("selected"));

          // افزودن کلاس انتخاب‌شده به میز کلیک شده
          element.classList.add("selected");

          // بررسی مقدار selectionDisplay
          if (!selectionDisplay) {
            console.error(" selectionDisplay not found!");
            return;
          }

          let tableName = "";
          let seatingInfo = "";

          switch (type) {
            case "round":
              tableName = "میز گرد";
              seatingInfo = "ظرفیت: ۴ نفر - مناسب برای گفت‌وگوهای صمیمی";
              break;
            case "square":
              tableName = "میز مربع";
              seatingInfo = "ظرفیت: ۴ نفر - مناسب برای استفاده‌ی راحت‌تر";
              break;
            case "rectangle":
              tableName = "میز مستطیل";
              seatingInfo = "ظرفیت: ۶ نفر - مناسب برای گروه‌های بزرگ‌تر";
              break;
            default:
              console.error("Unknown table type:", type);
              return;
          }

          console.log("Updating selectionDisplay:", tableName, seatingInfo);

          selectionDisplay.innerHTML = `
            <strong>${tableName}</strong><br>
            <span style="font-size: 0.9rem; color: #7f5539;">${seatingInfo}</span>
        `;

          updateButtonVisibility();
        }

        function updateButtonVisibility() {
          const selectedTable = document.querySelector(
            ".table-option.selected"
          );
          if (selectedTable) {
            continueBtn.style.display = "flex";
            setTimeout(() => continueBtn.classList.add("show"), 10);
          } else {
            continueBtn.classList.remove("show");
            setTimeout(() => (continueBtn.style.display = "none"), 300);
          }
        }

        // تنظیم مقدار اولیه دکمه (مخفی باشد)
        continueBtn.style.display = "none";
      });

      document.addEventListener("DOMContentLoaded", () => {
        const continueBtn = document.getElementById("continue-btn");
        const footer = document.getElementById("footer");

        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                continueBtn.classList.remove("show");
                setTimeout(() => (continueBtn.style.display = "none"), 300);
              } else if (
                document.querySelectorAll(".product-card.selected").length > 0
              ) {
                continueBtn.style.display = "flex";
                setTimeout(() => continueBtn.classList.add("show"), 10);
              }
            });
          },
          { threshold: 0.1 }
        );

        observer.observe(footer);
      });


      document.addEventListener("DOMContentLoaded", function () {
        const modalOverlay = document.querySelector(".modall-overlay");
        const closeBtn = document.querySelector(".close-btn");
        const cancelBtn = document.querySelector(".cancel-btn");
        const continueBtn = document.getElementById("continue");
        const confirmBtn = document.querySelector(".confirm-btn");

        // Show modal when clicking the continue button
        continueBtn.addEventListener("click", function (event) {
          event.preventDefault();
          modalOverlay.style.display = "flex";
        });

        // Close modal when clicking the X button
        closeBtn.addEventListener("click", function () {
          modalOverlay.style.display = "none";
        });

        // Close modal when clicking the cancel button
        cancelBtn.addEventListener("click", function () {
          modalOverlay.style.display = "none";
        });

        // Close modal when clicking outside the modal content
        modalOverlay.addEventListener("click", function (event) {
          if (event.target === modalOverlay) {
            modalOverlay.style.display = "none";
          }
        });

        // Optional: handle the confirm button click
        confirmBtn.addEventListener("click", function() {
          alert("پرداخت با موفقیت انجام شد!");
          modalOverlay.style.display = "none";
        });
      });
    </script>
  </body>
</html>
